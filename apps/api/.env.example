# ==================================
# CONFIGURACIÓN DE VARIABLES DE ENTORNO - API
# ==================================
#
# Este archivo contiene ejemplos de todas las variables de entorno necesarias
# para ejecutar el backend API de Amauta.
#
# Para configurar tu entorno local:
# 1. Copia este archivo: cp .env.example .env.local
# 2. Edita .env.local con tus valores específicos
# 3. NUNCA commits .env.local (ya está en .gitignore)
#

# ==================================
# GENERAL
# ==================================

# Entorno de ejecución
# Valores: development | production | test
NODE_ENV=development

# Puerto del servidor API
# Por defecto: 3001
API_PORT=3001

# Host del servidor
# Por defecto: localhost
API_HOST=localhost

# URL base de la API (para CORS y referencias externas)
API_URL=http://localhost:3001

# ==================================
# BASE DE DATOS
# ==================================

# URL de conexión a PostgreSQL
# Formato: postgresql://[usuario]:[contraseña]@[host]:[puerto]/[nombre_db]
# Ejemplo desarrollo: postgresql://amauta:desarrollo123@localhost:5432/amauta_dev
# Ejemplo Docker: postgresql://amauta:desarrollo123@postgres:5432/amauta_dev
DATABASE_URL=postgresql://usuario:password@localhost:5432/amauta_dev

# Pool de conexiones (opcional)
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ==================================
# SEGURIDAD
# ==================================

# Secret compartido con NextAuth (DEBE ser el mismo en frontend y backend)
# Usado para verificar tokens JWT de NextAuth
# Puedes generar uno con: openssl rand -base64 32
AUTH_SECRET=change-this-to-a-secure-random-string-in-production

# Secret para JWT propio (si se implementa autenticación interna)
# Puedes generar uno con: openssl rand -base64 32
JWT_SECRET=change-this-to-a-secure-random-string-in-production

# Tiempo de expiración del token JWT
# Formato: 1h, 7d, 30d, etc.
JWT_EXPIRES_IN=7d

# Secret para sesiones (si usas express-session)
SESSION_SECRET=change-this-session-secret-in-production

# ==================================
# CORS
# ==================================

# Orígenes permitidos para CORS (separados por coma)
# Ejemplo: http://localhost:3000,https://amauta.example.com
CORS_ORIGIN=http://localhost:3000

# ==================================
# CACHÉ (REDIS) - OPCIONAL
# ==================================

# URL de conexión a Redis
# Formato: redis://[host]:[puerto]
# Comentar si no se usa Redis
# REDIS_URL=redis://localhost:6379

# Tiempo de expiración del caché (en segundos)
# REDIS_CACHE_TTL=3600

# ==================================
# ARCHIVOS Y UPLOADS
# ==================================

# Directorio para almacenar archivos subidos
UPLOAD_DIR=./uploads

# Tamaño máximo de archivo (en bytes)
# 10MB = 10485760, 50MB = 52428800
MAX_FILE_SIZE=10485760

# Tipos de archivo permitidos (separados por coma)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ==================================
# EMAIL (SMTP) - OPCIONAL
# ==================================

# Configuración del servidor SMTP para envío de emails
# Comentar si no se usa email en esta fase
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=tu-email@gmail.com
# SMTP_PASSWORD=tu-password-de-aplicacion

# Remitente por defecto para emails
# SMTP_FROM_NAME=Amauta
# SMTP_FROM_EMAIL=noreply@amauta.example.com

# ==================================
# LOGS
# ==================================

# Nivel de logs
# Valores: error | warn | info | http | verbose | debug | silly
LOG_LEVEL=debug

# Formato de logs
# Valores: json | simple | pretty
LOG_FORMAT=pretty

# ==================================
# FRONTEND
# ==================================

# URL del frontend (para emails y redirecciones)
FRONTEND_URL=http://localhost:3000

# ==================================
# RATE LIMITING
# ==================================

# Máximo de requests por ventana de tiempo
RATE_LIMIT_MAX=100

# Ventana de tiempo en minutos
RATE_LIMIT_WINDOW_MS=15

# ==================================
# DESARROLLO Y DEBUG
# ==================================

# Habilitar modo debug (muestra más información en logs)
DEBUG=false

# Habilitar Prisma debug (muestra queries SQL)
# DEBUG_PRISMA=true
